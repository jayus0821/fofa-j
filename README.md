# 已经被修复了...



# fofa-j
简单易用fofa爬虫
### fofa 存在一个cookie参数，为result_per_page，控制每一页显示的目标数量，控制它就可以实现在一页中抓到所有目标...
### fofa限制了网站查询数据量只能查一万条，改cookie超过一万条了直接报错了
### 第一个版本一次抓太多会504
### 新版本可以分页抓到一万条，默认是每页2000条

抓到的结果会以csv形式存储

```
A:\recent\fofa-j>python fofa-j.py

  _____       _____                      __
_/ ____\_____/ ____\____                |__|
\   __\/  _ \   __\__  \    ______     |  |
 |  | (  <_> )  |   / __ \_ /_____/     |  |
 |__|  \____/|__|  (____  /         /\__|  |
                        \/          \______|
                                    by jayus

Usage:请输入参数
例如:python fofa-j.py 'app="Solr"' Solr  94bbbb177c4a564feddb8c7d413d5d61 y
例如:python fofa-j.py 'app="Solr"'(Fofa搜索语法) Solr(搜索结果文件名)  94bbbb177c4a564feddb8c7d413d5d61(Fofa的Cookie的_fofapro_ars_session值) y(保存页面内容)
```
![image](https://github.com/jayus0821/fofa-j/blob/main/images/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20201231185114.png)

# fofa-j 2.0
```
A:\recent\fofa-j>python fofa-j.py "\"******\""  result b3ebd5fa7ab534f30e6a94561b36f3c3 y

  _____       _____                      __
_/ ____\_____/ ____\____                |__|
\   __\/  _ \   __\__  \    ______     |  |
 |  | (  <_> )  |   / __ \_ /_____/     |  |
 |__|  \____/|__|  (____  /         /\__|  |
                        \/          \______|
                                    by jayus

"******"
[+] 共找到46367个结果
[+] 需要抓取的数量：
10000
[+] 抓取第 1 页...
[+]  抓取页面完毕，页面长度为9113808
[+]  数据清洗完毕，抓取数量为2000
2000

[+] 抓取第 2 页...
[+]  抓取页面完毕，页面长度为8709119
[+]  数据清洗完毕，抓取数量为2000
4000

[+] 抓取第 3 页...
[+]  抓取页面完毕，页面长度为8216369
[+]  数据清洗完毕，抓取数量为2000
6000

[+] 抓取第 4 页...
[+]  抓取页面完毕，页面长度为9093013
[+]  数据清洗完毕，抓取数量为2000
8000

[+] 抓取第 5 页...
[+]  抓取页面完毕，页面长度为9493831
[+]  数据清洗完毕，抓取数量为2000
10000

[+] 抓取第 6 页...
[+]  抓取页面完毕，页面长度为7840
[+]  数据清洗完毕，抓取数量为0
10000

[+] 共抓取到 10000 个结果
```
